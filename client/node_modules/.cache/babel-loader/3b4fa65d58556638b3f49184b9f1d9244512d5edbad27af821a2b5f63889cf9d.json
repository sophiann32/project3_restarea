{"ast":null,"code":"import React, { useRef, useMemo, useImperativeHandle, useLayoutEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useRoadview } from '../hooks/useRoadview.js';\nimport { useKakaoMapsSetEffect } from '../hooks/useKakaoMapsSetEffect.js';\n\n/**\n * Roadview에 CustomOverlay를 올릴 때 사용하는 컴포넌트 입니다.\n * `onCreate` 이벤트 또는 `ref` 객체를 통해서 `CustomOverlay` 객체에 직접 접근 및 초기 설정 작업을 지정할 수 있습니다.\n */\nconst CustomOverlayRoadview = /*#__PURE__*/React.forwardRef(function CustomOverlayRoadview(_ref, ref) {\n  let {\n    position,\n    children,\n    clickable,\n    xAnchor,\n    yAnchor,\n    zIndex,\n    altitude,\n    range,\n    onCreate\n  } = _ref;\n  const roadview = useRoadview(`CustomOverlayRoadview`);\n  const container = useRef(document.createElement(\"div\"));\n  const overlayPosition = useMemo(() => {\n    if (\"lat\" in position) {\n      return new kakao.maps.LatLng(position.lat, position.lng);\n    }\n    return new kakao.maps.Viewpoint(position.pan, position.tilt, position.zoom, position.panoId);\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, [/* eslint-disable @typescript-eslint/ban-ts-comment */\n  /* @ts-ignore */\n  position.lat, /* @ts-ignore */\n  position.lng, /* @ts-ignore */\n  position.pan, /* @ts-ignore */\n  position.tilt, /* @ts-ignore */\n  position.zoom, /* @ts-ignore */\n  position.panoId\n  /* eslint-enable @typescript-eslint/ban-ts-comment */]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  const overlay = useMemo(() => {\n    const KakaoCustomOverlay = new kakao.maps.CustomOverlay({\n      clickable: clickable,\n      xAnchor: xAnchor,\n      yAnchor: yAnchor,\n      zIndex: zIndex,\n      position: overlayPosition,\n      content: container.current\n    });\n    container.current.style.display = \"none\";\n    return KakaoCustomOverlay;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clickable, xAnchor, yAnchor]);\n  useImperativeHandle(ref, () => overlay, [overlay]);\n  useLayoutEffect(() => {\n    if (!roadview) return;\n    overlay.setMap(roadview);\n    return () => {\n      overlay.setMap(null);\n    };\n  }, [overlay, roadview]);\n  useLayoutEffect(() => {\n    if (onCreate) onCreate(overlay);\n  }, [overlay, onCreate]);\n  useKakaoMapsSetEffect(overlay, \"setPosition\", overlayPosition);\n  useKakaoMapsSetEffect(overlay, \"setZIndex\", zIndex);\n  useKakaoMapsSetEffect(overlay, \"setAltitude\", altitude);\n  useKakaoMapsSetEffect(overlay, \"setRange\", range);\n  return container.current.parentElement && /*#__PURE__*/ReactDOM.createPortal(children, container.current.parentElement);\n});\nexport { CustomOverlayRoadview };","map":{"version":3,"names":["React","useRef","useMemo","useImperativeHandle","useLayoutEffect","ReactDOM","useRoadview","useKakaoMapsSetEffect","CustomOverlayRoadview","forwardRef","_ref","ref","position","children","clickable","xAnchor","yAnchor","zIndex","altitude","range","onCreate","roadview","container","document","createElement","overlayPosition","kakao","maps","LatLng","lat","lng","Viewpoint","pan","tilt","zoom","panoId","overlay","KakaoCustomOverlay","CustomOverlay","content","current","style","display","setMap","parentElement","createPortal"],"sources":["C:/UHB/rest_area/node_modules/react-kakao-maps-sdk/esm/components/CustomOverlayRoadview.js"],"sourcesContent":["import React, { useRef, useMemo, useImperativeHandle, useLayoutEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useRoadview } from '../hooks/useRoadview.js';\nimport { useKakaoMapsSetEffect } from '../hooks/useKakaoMapsSetEffect.js';\n\n/**\n * Roadview에 CustomOverlay를 올릴 때 사용하는 컴포넌트 입니다.\n * `onCreate` 이벤트 또는 `ref` 객체를 통해서 `CustomOverlay` 객체에 직접 접근 및 초기 설정 작업을 지정할 수 있습니다.\n */\nconst CustomOverlayRoadview = /*#__PURE__*/React.forwardRef(function CustomOverlayRoadview(_ref, ref) {\n  let {\n    position,\n    children,\n    clickable,\n    xAnchor,\n    yAnchor,\n    zIndex,\n    altitude,\n    range,\n    onCreate\n  } = _ref;\n  const roadview = useRoadview(`CustomOverlayRoadview`);\n  const container = useRef(document.createElement(\"div\"));\n  const overlayPosition = useMemo(() => {\n    if (\"lat\" in position) {\n      return new kakao.maps.LatLng(position.lat, position.lng);\n    }\n    return new kakao.maps.Viewpoint(position.pan, position.tilt, position.zoom, position.panoId);\n    /* eslint-disable react-hooks/exhaustive-deps */\n  }, [/* eslint-disable @typescript-eslint/ban-ts-comment */\n  /* @ts-ignore */\n  position.lat, /* @ts-ignore */\n  position.lng, /* @ts-ignore */\n  position.pan, /* @ts-ignore */\n  position.tilt, /* @ts-ignore */\n  position.zoom, /* @ts-ignore */\n  position.panoId\n  /* eslint-enable @typescript-eslint/ban-ts-comment */]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  const overlay = useMemo(() => {\n    const KakaoCustomOverlay = new kakao.maps.CustomOverlay({\n      clickable: clickable,\n      xAnchor: xAnchor,\n      yAnchor: yAnchor,\n      zIndex: zIndex,\n      position: overlayPosition,\n      content: container.current\n    });\n    container.current.style.display = \"none\";\n    return KakaoCustomOverlay;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clickable, xAnchor, yAnchor]);\n  useImperativeHandle(ref, () => overlay, [overlay]);\n  useLayoutEffect(() => {\n    if (!roadview) return;\n    overlay.setMap(roadview);\n    return () => {\n      overlay.setMap(null);\n    };\n  }, [overlay, roadview]);\n  useLayoutEffect(() => {\n    if (onCreate) onCreate(overlay);\n  }, [overlay, onCreate]);\n  useKakaoMapsSetEffect(overlay, \"setPosition\", overlayPosition);\n  useKakaoMapsSetEffect(overlay, \"setZIndex\", zIndex);\n  useKakaoMapsSetEffect(overlay, \"setAltitude\", altitude);\n  useKakaoMapsSetEffect(overlay, \"setRange\", range);\n  return container.current.parentElement && /*#__PURE__*/ReactDOM.createPortal(children, container.current.parentElement);\n});\n\nexport { CustomOverlayRoadview };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}